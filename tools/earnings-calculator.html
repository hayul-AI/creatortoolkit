<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube Earnings Calculator - CreatorToolkit</title>
    <meta name="description" content="Estimate your YouTube potential earnings based on country RPM, views, and watch time. Professional local earnings auditor.">
    <link rel="stylesheet" href="/style.css?v=20260221">
    <link rel="icon" href="/assets/favicon.ico" type="image/x-icon">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        .calc-grid { display: grid; grid-template-columns: 420px 1fr; gap: 2.5rem; align-items: start; max-width: 1200px; margin: 0 auto; }
        .form-card { background: var(--bg-primary); border: 1px solid var(--border-color); border-radius: 20px; padding: 2rem; box-shadow: 0 4px 24px rgba(0,0,0,0.04); }
        .result-card { background: var(--bg-primary); border: 1px solid var(--border-color); border-radius: 20px; padding: 2.5rem; display: none; animation: slideIn 0.4s ease-out; }
        @keyframes slideIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        .scenario-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin: 2rem 0; }
        .scenario-item { background: var(--bg-secondary); padding: 1.5rem; border-radius: 16px; text-align: center; border: 1px solid var(--border-color); }
        .scenario-item h4 { font-size: 0.8rem; text-transform: uppercase; color: var(--text-secondary); margin-bottom: 0.5rem; }
        .scenario-item .val { font-size: 1.5rem; font-weight: 800; color: var(--text-primary); }
        .scenario-item .rpm { font-size: 0.75rem; color: var(--brand-red); font-weight: 700; margin-top: 0.25rem; }

        .big-total { font-size: 3.5rem; font-weight: 900; color: var(--brand-red); letter-spacing: -0.04em; margin: 0.5rem 0; }
        .warning-box { background: #fffbeb; border: 1px solid #fde68a; color: #92400e; padding: 1rem; border-radius: 12px; font-size: 0.85rem; margin-bottom: 2rem; display: flex; gap: 0.75rem; }
        
        .radio-group { display: grid; grid-template-columns: 1fr 1fr; gap: 0.75rem; margin-bottom: 1.5rem; }
        .radio-item { position: relative; }
        .radio-item input { position: absolute; opacity: 0; }
        .radio-item label { display: flex; align-items: center; justify-content: center; height: 48px; border: 1px solid var(--border-color); border-radius: 12px; cursor: pointer; font-weight: 600; transition: 0.2s; }
        .radio-item input:checked + label { background: var(--brand-red); color: white; border-color: var(--brand-red); }

        .accordion { border: 1px solid var(--border-color); border-radius: 12px; overflow: hidden; margin-top: 2rem; }
        .accordion-header { padding: 1rem; background: var(--bg-secondary); cursor: pointer; font-weight: 700; font-size: 0.9rem; display: flex; justify-content: space-between; }
        .accordion-content { padding: 1rem; font-size: 0.85rem; color: var(--text-secondary); display: none; line-height: 1.6; }

        @media (max-width: 1024px) { .calc-grid { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <creator-header></creator-header>

    <main style="padding: 5rem 0; background: var(--bg-secondary); min-height: 80vh;">
        <div class="container">
            <div style="text-align: center; margin-bottom: 4rem;">
                <h1 style="font-size: 3rem; letter-spacing: -0.02em; margin-bottom: 1rem;">Earnings Calculator</h1>
                <p style="color: var(--text-secondary); font-size: 1.1rem; max-width: 600px; margin: 0 auto;">Estimate your potential revenue based on global RPM trends. Note: Actual earnings depend on your niche and audience.</p>
            </div>

            <div class="calc-grid">
                <!-- Form Area -->
                <div class="form-card">
                    <div class="input-group">
                        <label class="label-premium" style="display:block; margin-bottom:0.5rem; font-weight:700; font-size:0.85rem;">Video Content Type</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" name="video-type" id="type-long" value="long" checked>
                                <label for="type-long">Long-form</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="video-type" id="type-shorts" value="shorts">
                                <label for="type-shorts">Shorts</label>
                            </div>
                        </div>
                    </div>

                    <div class="input-group" style="margin-bottom: 1.5rem;">
                        <label class="label-premium" style="display:block; margin-bottom:0.5rem; font-weight:700; font-size:0.85rem;">Viewer Country</label>
                        <input type="text" id="country-input" list="country-list" placeholder="Start typing country...">
                        <datalist id="country-list"></datalist>
                        <small style="color:var(--text-secondary); font-size:0.75rem; margin-top:0.25rem; display:block;">RPM varies significantly by region.</small>
                    </div>

                    <div class="input-group" style="margin-bottom: 1.5rem;">
                        <label class="label-premium" style="display:block; margin-bottom:0.5rem; font-weight:700; font-size:0.85rem;">Estimated Views</label>
                        <input type="number" id="views-input" placeholder="e.g. 100000" step="1000">
                    </div>

                    <div class="input-group" style="margin-bottom: 1.5rem;">
                        <label class="label-premium" style="display:block; margin-bottom:0.5rem; font-weight:700; font-size:0.85rem;">Avg. View Duration (mm:ss)</label>
                        <input type="text" id="duration-input" placeholder="e.g. 04:30" value="03:00">
                    </div>

                    <div class="input-group" style="margin-bottom: 1.5rem;">
                        <label class="label-premium" style="display:block; margin-bottom:0.5rem; font-weight:700; font-size:0.85rem;">Audience Retention (%)</label>
                        <input type="range" id="retention-input" min="5" max="90" value="40" oninput="this.nextElementSibling.value = this.value + '%'">
                        <output style="font-weight:700; color:var(--brand-red); font-size:0.9rem;">40%</output>
                    </div>

                    <div class="input-group" style="margin-bottom: 2rem;">
                        <label class="label-premium" style="display:block; margin-bottom:0.5rem; font-weight:700; font-size:0.85rem;">Ad Suitability / Niche</label>
                        <select id="monetization-level">
                            <option value="low">Low (Entertainment/Gaming)</option>
                            <option value="mid" selected>Medium (Vlogs/Tech)</option>
                            <option value="high">High (Finance/Business)</option>
                        </select>
                    </div>

                    <button onclick="calculateEarnings()" class="btn-primary" style="width: 100%; height: 52px; font-size: 1.1rem; margin: 0;">Calculate Potential ✨</button>
                </div>

                <!-- Result Area -->
                <div id="result-area" class="result-card">
                    <div class="warning-box">
                        <span>⚠️</span>
                        <span>Estimates are based on typical RPM ranges and do not represent actual YouTube payouts. Country list may change over time.</span>
                    </div>

                    <div style="text-align: center; margin-bottom: 2rem;">
                        <span style="font-size: 0.9rem; font-weight: 700; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 0.05em;">Estimated Typical Earnings</span>
                        <div class="big-total" id="typical-total">$0.00</div>
                        <p id="video-range" style="font-weight: 600; color: var(--text-secondary);"></p>
                    </div>

                    <div class="scenario-grid">
                        <div class="scenario-item">
                            <h4>Conservative</h4>
                            <div class="val" id="low-total">$0</div>
                            <div class="rpm" id="low-rpm">RPM: $0</div>
                        </div>
                        <div class="scenario-item" style="border-color: var(--brand-red);">
                            <h4>Typical</h4>
                            <div class="val" id="mid-total">$0</div>
                            <div class="rpm" id="mid-rpm">RPM: $0</div>
                        </div>
                        <div class="scenario-item">
                            <h4>Optimistic</h4>
                            <div class="val" id="high-total">$0</div>
                            <div class="rpm" id="high-rpm">RPM: $0</div>
                        </div>
                    </div>

                    <div class="accordion">
                        <div class="accordion-header" onclick="toggleAccordion()">
                            What factors affect my RPM? <span>▼</span>
                        </div>
                        <div class="accordion-content" id="acc-content">
                            • <b>Viewer Location:</b> High-GDP countries (US, UK, CA) have higher ad rates.<br>
                            • <b>Niche:</b> Finance and Business niches often pay 5-10x more than Gaming or Comedy.<br>
                            • <b>Video Length:</b> 8+ minute videos can have mid-roll ads, increasing revenue.<br>
                            • <b>Seasonality:</b> RPM usually peaks in Q4 (holidays) and drops in Q1.<br>
                            • <b>Ad Inventory:</b> Whether viewers use ad-blockers or have YouTube Premium.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <creator-footer></creator-footer>

    <script src="/main.js"></script>
    <script>
        const MONETIZED_COUNTRIES = [
            "United States", "United Kingdom", "Canada", "Australia", "Germany", "France", "Japan", "South Korea",
            "Netherlands", "Norway", "Denmark", "Sweden", "Switzerland", "Spain", "Italy", "Portugal", "Brazil",
            "Mexico", "India", "Indonesia", "Thailand", "Vietnam", "Singapore", "Hong Kong", "Taiwan", "Turkey",
            "United Arab Emirates", "Saudi Arabia", "Israel", "Poland", "Czech Republic", "Austria", "Belgium",
            "Ireland", "New Zealand", "Argentina", "Colombia", "Chile", "South Africa", "Egypt", "Philippines",
            "Malaysia", "Russia", "Ukraine", "Romania", "Greece", "Finland"
        ];

        const RPM_DATA = {
            "United States": { long: {low: 4.0, mid: 8.0, high: 16.0}, shorts: {low: 0.04, mid: 0.07, high: 0.15} },
            "United Kingdom": { long: {low: 3.5, mid: 7.0, high: 14.0}, shorts: {low: 0.03, mid: 0.06, high: 0.12} },
            "South Korea": { long: {low: 3.0, mid: 5.5, high: 10.0}, shorts: {low: 0.03, mid: 0.05, high: 0.10} },
            "India": { long: {low: 0.5, mid: 1.5, high: 3.5}, shorts: {low: 0.005, mid: 0.015, high: 0.03} }
        };

        const TIERS = {
            tier1: { long: {low: 3.5, mid: 6.5, high: 13.0}, shorts: {low: 0.03, mid: 0.06, high: 0.12} }, // Western
            tier2: { long: {low: 2.5, mid: 4.5, high: 9.0}, shorts: {low: 0.02, mid: 0.04, high: 0.08} },  // High SEA/EE
            tier3: { long: {low: 1.0, mid: 2.0, high: 4.5}, shorts: {low: 0.01, mid: 0.02, high: 0.04} },  // LATAM/SEA
            tier4: { long: {low: 0.3, mid: 0.8, high: 2.0}, shorts: {low: 0.005, mid: 0.01, high: 0.02} }  // Developing
        };

        const COUNTRY_TIER_MAP = {
            "Canada": "tier1", "Australia": "tier1", "Germany": "tier1", "France": "tier1", "Japan": "tier1",
            "Taiwan": "tier2", "Singapore": "tier2", "Spain": "tier2", "Brazil": "tier3", "Mexico": "tier3",
            "Vietnam": "tier4", "Philippines": "tier4"
        };

        // Initialize datalist
        document.addEventListener('DOMContentLoaded', () => {
            const list = document.getElementById('country-list');
            MONETIZED_COUNTRIES.sort().forEach(c => {
                const opt = document.createElement('option');
                opt.value = c;
                list.appendChild(opt);
            });
        });

        function parseDuration(val) {
            if(!val.includes(':')) return parseInt(val) || 0;
            const parts = val.split(':');
            return (parseInt(parts[0]) * 60) + (parseInt(parts[1]) || 0);
        }

        function calculateEarnings() {
            const type = document.querySelector('input[name="video-type"]:checked').value;
            const country = document.getElementById('country-input').value;
            const views = parseFloat(document.getElementById('views-input').value) || 0;
            const duration = parseDuration(document.getElementById('duration-input').value);
            const retention = parseFloat(document.getElementById('retention-input').value) / 100;
            const mLevel = document.getElementById('monetization-level').value;

            if (views <= 0) return alert('Please enter view count');

            // 1. Get Base RPM
            let baseRpmSet = RPM_DATA[country] || TIERS[COUNTRY_TIER_MAP[country]] || TIERS.tier3;
            let currentRpm = { ...baseRpmSet[type] };

            // 2. Multipliers
            let multiplier = 1.0;
            
            // Duration
            if (type === 'long') {
                if (duration >= 480) multiplier += 0.15; // Mid-rolls
                else if (duration < 180) multiplier -= 0.15;
            }

            // Retention
            if (retention >= 0.5) multiplier += 0.1;
            else if (retention < 0.3) multiplier -= 0.1;

            // Niche
            if (mLevel === 'high') multiplier += 0.2;
            else if (mLevel === 'low') multiplier -= 0.2;

            // Apply & Clamp
            const apply = (val) => Math.max(0.01, val * multiplier);
            const low = apply(currentRpm.low);
            const mid = apply(currentRpm.mid);
            const high = apply(currentRpm.high);

            // 3. Final Calc
            const calc = (r) => (views / 1000) * r;
            const format = (v) => new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(v);

            document.getElementById('result-area').style.display = 'block';
            document.getElementById('typical-total').innerText = format(calc(mid));
            document.getElementById('low-total').innerText = format(calc(low));
            document.getElementById('mid-total').innerText = format(calc(mid));
            document.getElementById('high-total').innerText = format(calc(high));
            
            document.getElementById('low-rpm').innerText = `RPM: $${low.toFixed(2)}`;
            document.getElementById('mid-rpm').innerText = `RPM: $${mid.toFixed(2)}`;
            document.getElementById('high-rpm').innerText = `RPM: $${high.toFixed(2)}`;

            document.getElementById('video-range').innerText = `Estimated per-video: ${format(calc(low))} – ${format(calc(high))}`;
            
            window.scrollTo({ top: document.getElementById('result-area').offsetTop - 100, behavior: 'smooth' });
        }

        function toggleAccordion() {
            const content = document.getElementById('acc-content');
            content.style.display = content.style.display === 'block' ? 'none' : 'block';
        }
    </script>
    <link rel="stylesheet" href="/assets/upload-panel.css">
    <script defer src="/assets/upload-panel.js"></script>
</body>
</html>
